{% extends "index.html" %}

{% block body %}
<h2>Search</h2>

<script>
    function getBooks()
    {
        $.get("/books/dosearch?title=" + $("#title").val(),null,showBooks);
    }

    function showBooks(books)
    {
        console.log(books);
        if(books.length == 0)
        {
            $("#books").html("<h3>No Books Found</h3>");
            return;
        }
        output = "<ul>";
        for(i=0; i < books.length; i++)
            output += "<li>" + books[i].title + " - " + books[i].price + "</li>";
        output += "</ul>";

        $("#books").html(output);
    }

</script>

Title :
<input type="text" id="title" value="{{title}}">
<button onclick="getBooks()">Go</button>
<br><br>
<div id="books"></div>

{% endblock %}